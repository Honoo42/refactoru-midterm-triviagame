String.prototype.supplant||(String.prototype.supplant=function(e){return this.replace(/\{([^{}]*)\}/g,function(t,n){var a=e[n];return"string"==typeof a||"number"==typeof a?a:t})});var Ability=function(e,t){this.name=e,this.definition=t},Job=function(e,t,n){this.name=e,this.ability=t,this.health=n},Character=function(e,t){this.name=e,this.job=t,this.items=[]},Trivia=function(e,t,n,a){this.str=e,this.difficulty=t,this.correct=n,this.wrong=a},Category=function(e,t){this.name=e,this.questions=t},Rank=function(e){this.name=e},Monsters=function(e,t,n,a,r){this.name=e,this.array=t,this.difficulty=n,this.rank=a,this.health=r},Locations=function(){},Item=function(e,t){this.name=e,this.effect=t},Answers=function(e){this.Array=e;e[0],e[1],e[2],e[3]};Ability.prototype.create=function(){return $('<div class="ability">{name}</div>'.supplant(this))},Job.prototype.create=function(){return $('<div class="job">{name}</div>'.supplant(this))},Character.prototype.create=function(){return $('<div class="character">{name}</div>'.supplant(this))},Trivia.prototype.create=function(){return $(this.correct).addClass("correct"),$(this.wrong).addClass("wrong"),$('<div class="trivia">{str}</div>'.supplant(this))},Category.prototype.create=function(){return $('<div class="category">{name}</div>'.supplant(this))},Rank.prototype.create=function(){return $('<div class="rank">{name}</div>'.supplant(this))},Monsters.prototype.create=function(){return $('<div class="monsters">{name} with a maximum difficulty of {difficulty}</div>'.supplant(this))},Locations.prototype.create=function(){return $('<div class="locations">{name}</div>'.supplant(this))},Item.prototype.create=function(){return $('<div class="item">{name}</div>'.supplant(this))},Answers.prototype.create1=function(){var e={answerChoice1:this.Array[0][0],correctAnswer:this.Array[0][1].toString()};return $('<button class="answers answer-btn answer1" data-answer="{correctAnswer}">{answerChoice1}</button>'.supplant(e))},Answers.prototype.create2=function(){var e={answerChoice2:this.Array[1][0],correctAnswer:this.Array[1][1].toString()};return $('<button class="answers answer-btn answer2" data-answer="{correctAnswer}">{answerChoice2}</button>'.supplant(e))},Answers.prototype.create3=function(){var e={answerChoice3:this.Array[2][0],correctAnswer:this.Array[2][1].toString()};return $('<button class="answers answer-btn answer3" data-answer="{correctAnswer}">{answerChoice3}</button>'.supplant(e))},Answers.prototype.create4=function(){var e={answerChoice4:this.Array[3][0],correctAnswer:this.Array[3][1].toString()};return $('<button class="answers answer-btn answer4" data-answer="{correctAnswer}">{answerChoice4}</button>'.supplant(e))};var block=function(e){e>=.75&&(playerTakesHit=currentCharacter.job.health++),console.log("Block Activated!")},cunning=function(e){e>=.75&&(currentMonster.health=currentMonster.health-1),console.log("Critical Hit!")},intuition=function(){return!1},cleverness=function(){return!1},dazzle=function(){return!1},blessed=function(){return!1};Category.prototype.categorySearch=function(){for(var e=0;e<this.questions.length;e++)console.log(this.questions[e])},Category.prototype.triviaOutput=function(){return _.sample(this.questions).str},Category.prototype.triviaDifficulty=function(){},Trivia.prototype.choiceRandomizer=function(){var e=Math.random(),t=this.wrong;"Intuition"===currentCharacter.job.ability.name&&intuition(e);{var n=this.correct,a=(t.push(n),_.shuffle(this.wrong)),r=_.uniq(a);r[0],r[1],r[2],r[3]}return r},Trivia.prototype.difficultPull=function(){return this.difficulty},Monsters.prototype.encounterGenerator=function(){var e=this,t=this.array,n=_.sample(t),a=n.questions,r=_.reject(a,function(t){return t.difficulty>e.difficulty}),o=_.sample(r);return o};var availableMonsters=function(e){return _.sample(e)},knightBlock=new Ability("Block",block()),rogueCunning=new Ability("Cunning",cunning()),wizardIntuition=new Ability("Intuition",intuition()),knight=new Job("Knight",knightBlock,10),rogue=new Job("Rogue",rogueCunning,8),wizard=new Job("Wizard",wizardIntuition,6),sorceress=new Job("Sorceress",cleverness,6),bard=new Job("Bard",dazzle,8),monk=new Job("Monk",blessed,8),kanir=new Character("Kanir",knight),devaio=new Character("Devaio",wizard),shadow=new Character("Shadow",rogue),donaldDuckName=new Trivia("What is Donald Duck's middle name?",2,["Fauntleroy",!0],[["Lavender",!1],["Huey",!1],["Howard",!1]]),aladdinTiger=new Trivia("What is the name of Jasmine's pet tiger",1,["Rajah",!0],[["Abu",!1],["Iago",!1],["Tigger",!1]]),pacmanScore=new Trivia("What is the maximum achieveable score in one game of 'Pac-Man'?",3,["3,333,360",!0],[["999,999",!1],["424,242,420",!1],["3,000,000",!1]]),marioOrigin=new Trivia("What was Mario's name in the original Donkey Kong arcade game?",2,["Jumpman",!0],[["Luigi",!1],["Toad",!1],["He had no name",!1]]),gameFIFA2001=new Trivia("What unusual feature did the game 'FIFA 2001' implement?",5,["A Scratch and Sniff CD",!0],[["You could use other CD-ROMs to generate players",!1],["It had a mode to play as the coaches and referees",!1],["It would lock the player out during half-time and encourage them to go outside",!1]]),xboxBestSelling=new Trivia("What game is the best selling product of the original XBox?",2,["Halo 2",!0],[["Halo 3",!1],["Call of Duty:Modern Warfare",!1],["Blinx the Time Sweeper",!1]]),dynastyWarriors=new Trivia("What genre was the original Dynasty Warrior video game on Playstation?",3,["Fighting",!0],[["Beat-Em Up",!1],["Strategy",!1],["Platformer",!1]]),nintendoBaseballOwnership=new Trivia("What major league baseball team does Nintendo of America hold a majority share in?",4,["Seattle Mariners",!0],[["Miami Marlins",!1],["New York Yankees",!1],["Colorado Rockies",!1]]),capcomName=new Trivia("What is Capcom short for?",3,["Capsule Computers",!0],[["Capsule Computating",!1],["Capture Command",!1],["Capital Computations",!1]]),ukBestSeller=new Trivia("What game is the best selling game for the Playstation 1 in the UK?",3,["Rayman",!0],[["Tomb Raider",!1],["Final Fantasy IX",!1],["Crash Bandicoot",!1]]),gamecubeBestSeller=new Trivia("What is the best selling game of the Nintendo GameCube?",3,["Super Smash Bros. Melee",!0],[["Super Mario Sunshine",!1],["Metroid Prime 2",!1],["The Legend of Zelda: Wind Waker",!1]]),forzaTickets=new Trivia("How many speeding tickets did the development team of the video game Forza Motorsport 2 collectively gain?",6,["41",!0],[["42",!1],["10",!1],["100",!1]]),freeComicBookDay=new Trivia("What day is 'Free Comic Book Day' traditionally held in the United States?",1,["The first Saturday of May",!0],[["May 4th",!1],["The last Saturday of May",!1],['December 28th, The birthday of Stan "The Man" Lee',!1]]),fontComicSans=new Trivia("What comic book is the font Comic Sans derived from?",3,["Watchmen",!0],[["The Dark Knight Returns",!1],["Crisis of Infinite Earths",!1],["Teenage Mutant Ninja Turtles",!1]]),marvelMultiverse=new Trivia("According to the Marvel Comic's Multiverse, our reality is designated: ",5,["Earth-1218",!0],[["Earth-616",!1],["Earth-199999",!1],["Earth-1610",!1]]),weaponX=new Trivia("The X-men character Wolverine is a product of the infamous 'Weapon _' project. Which of the following heroes is also considered a product of this program?",0,["Captain America",!0],[["Spider-Man",!1],["The Punisher",!1],["Colossus",!1]]),muhammedAli=new Trivia("Boxer Muhammad Ali retired with the following record: ",3,["55 wins, 5 losses",!0],[["50 wins, 10 losses",!1],["42 wins, 3 losses",!1],["50 wins, 6 losses",!1]]),firstSuperBowl=new Trivia("The first Super Bowl was played in 1967. What two teams played against each other?",4,["Green Bay Packers and Kansas City Chiefs",!0],[["New York Giants and New England Patriots",!1],["Pittsburgh Steelers and Oakland Raiders",!1],["Buffalo Bills and Miami Dolphins",!1]]),olympics2012=new Trivia("What city did the 2012 Summer Olympics take place in?",2,["London",!0],[["Toronto",!1],["Sochi",!1],["Dublin",!1]]),tigerWoodsAge=new Trivia("How old was golfer Tiger Woods the first time that he won the Masters?",3,["21",!0],[["22",!1],["18",!1],["25",!1]]),olympicSeparation=new Trivia("What year were the Winter and Summer Olympics separated and started to be held on alternating 2 year cycles?",6,["1994",!0],[["1990",!1],["1978",!1],["1986",!1]]),nameAvengers=new Trivia("In the comic books, which character came up with the name 'Avengers'",2,["Wasp",!0],[["Captain America",!1],["The Hulk",!1],["Loki",!1]]),cameoFrozen=new Trivia("What Disney couple made a cameo appearance in the movie Frozen?",4,["Rapunzel and Flynn",!0],[["Ariel and Eric",!1],["Snow White and Prince Charming",!1],["Pocahontas and John Smith",!1]]),genieActor=new Trivia("What famous actor provided the voice of Genie in Disney's 'Aladdin'?",1,["Robin Williams",!0],[["Sean Connery",!1],["Chris Hemsworth",!1],["Danny DeVito",!1]]),disneyLastFilm=new Trivia("What was the last movie personally overseen by Walt Disney?",5,["The Jungle Book",!0],[["Sleeping Beauty",!1],["Toy Story",!1],["The Sword in the Stone",!1]]),disneyDalmations=new Trivia("How many dalmation puppies are there?",1,["101",!0],[["103",!1],["1",!1],["None any more, Cruella De Vil got all of them",!1]]),disney=new Category("Disney Trivia",[donaldDuckName,aladdinTiger,disneyDalmations,disneyLastFilm,genieActor,cameoFrozen]),videoGames=new Category("Video Game Odd Facts",[pacmanScore,marioOrigin,gameFIFA2001,forzaTickets,gamecubeBestSeller,ukBestSeller,xboxBestSelling,dynastyWarriors,capcomName,nintendoBaseballOwnership]),comicbooks=new Category("Comic Books",[nameAvengers,weaponX,marvelMultiverse,freeComicBookDay,fontComicSans]),sports=new Category("Sports",[olympics2012,nintendoBaseballOwnership,muhammedAli,gameFIFA2001,firstSuperBowl,tigerWoodsAge]),mook=new Rank("Mook"),elite=new Rank("Elite"),boss=new Rank("Boss"),goblin=new Monsters("Goblin",[disney],2,mook,1),troll=new Monsters("Troll",[disney,videoGames],5,elite,3),ogre=new Monsters("Ogre",[disney,videoGames,comicbooks,sports],7,boss,5),firstLevel=[goblin,troll,ogre];$(document).on("ready",function(){$(".generate").hide(),$(".reset-game").hide(),$(".character").hide();var e=(kanir.create(),devaio.create(),shadow.create(),$(".placement")),t=$(".character-display"),n=$(".encounter-string"),a=$(".button-layout"),r=function(){$(".start-game").hide(),$(".btn-kanir").show(),$(".btn-devaio").show(),$(".btn-shadow").show()},o=function(){r(),$(".start-game").hide()},i=function(e){t.append(e.name+"<br>","Character Job: "+e.job.name+"<br>","Job Ability: "+e.job.ability.name+"<br>","Current Health: "+e.job.health),$(".character-display").css({"padding-top":"1%","padding-bottom":"1%"})},s=function(e){n.empty(),n.append(e.name+"<br>","Max Trivia Diificulty: "+e.difficulty+"<br>","Monster Rank: "+e.rank.name+"<br>","Health: "+e.health),$(".encounter-string").css({"padding-top":"1%","padding-bottom":"1%"})},c=function(){$(".character").hide(),$(".generate").show(),$(".reset-game").show()},l=function(){n.empty(),t.empty(),s(currentMonster),i(currentCharacter)},h=function(){return currentThreat=firstLevel[0],currentThreat.health<=0&&firstLevel.shift(),firstLevel.length<=0&&u(),currentThreat=firstLevel[0],currentMonster=currentThreat},u=function(){firstLevel.length<=0&&(e.empty(),e.append("<p class='play-area end-game'>You Have Beat The Game! Prepare Yourself...</p>"),_.delay(g,5e3))},d=function(){var t=currentMonster.encounterGenerator(),n=t.choiceRandomizer(),a=new Answers(n);e.empty(),e.append("You are being questioned by a ",currentMonster.create(),t.create(),a.create1(),a.create2(),a.create3(),a.create4()),$(".question-area").css({"padding-top":"2%","padding-bottom":"4%"}),s(currentMonster),y()},p=function(){var e=h();void 0!=e&&d()},m=function(){var t=currentMonster.encounterGenerator(),n=t.choiceRandomizer(),a=new Answers(n);e.empty(),e.append("You are still being attacked by a ",currentMonster.create(),t.create(),a.create1(),a.create2(),a.create3(),a.create4()),l(),currentMonster.health<=0&&(e.empty(),e.append("<p class='play-area victory'>You Are Victorious! Loading the Next Encounter...</p>"),_.delay(p,2e3)),currentCharacter.job.health<=0&&(e.empty(),e.append("<p class='play-area defeat'>You Have Been DEFEATED! Read Up On Your Trivia And Try Again!</p>"),_.delay(g,5e3)),y(),$(".question-area").css({"padding-top":"2%","padding-bottom":"4%"})},y=function(){$('.answer-btn[data-answer="true"]').addClass("correct"),$('.answer-btn[data-answer="false"]').addClass("wrong")},g=function(){t.empty(),n.empty(),e.empty(),$(".question-area").css({"padding-top":"0%","padding-bottom":"0%"}),$(".character-display").css({"padding-top":"0%","padding-bottom":"0%"}),$(".encounter-string").css({"padding-top":"0%","padding-bottom":"0%"}),knight.health=10,rogue.health=8,wizard.health=6,goblin.health=2,troll.health=5,ogre.health=7,firstLevel=[troll,goblin,ogre],$(".generate").hide(),$(".reset-game").hide(),$(".start-game").show()},w=function(){$(this).css({"border-color":"red","border-width":"5px"}),$(".wrong").css({"border-color":"blue","border-width":"5px",opacity:"0.5"})},f=function(){$(".correct").css({"border-color":"orange","border-width":"5px"}),$(".wrong").css({"border-color":"blue","border-width":"5px",opacity:"0.5"})};a.on("click",".start-game",function(){o()}),$(".character-buttons").on("click",".btn-kanir",function(){currentCharacter=kanir,i(kanir),c()}),$(".btn-devaio").click(function(){currentCharacter=devaio,i(devaio),c();$(".character-display").append('<button type="button" class="btn-info intuition">Intuition</button>')}),$(".btn-shadow").click(function(){currentCharacter=shadow,i(shadow),c()}),a.on("click",".generate",function(){p()}),a.on("click",".test",function(){m()}),$(document).on("click",'.answer-btn[data-answer="true"]',function(){currentMonster.health--;console.log("CORRECT");var e=1;"Cunning"===currentCharacter.job.ability.name&&cunning(e),console.log(currentMonster.health),w(),_.delay(m,3e3)}),$(document).on("click",'.answer-btn[data-answer="false"]',function(){console.log("WRONG");currentCharacter.job.health--;probablity=1,console.log(probablity),"Block"===currentCharacter.job.ability.name&&block(probablity),console.log(currentCharacter.job.health),f(),_.delay(m,3e3)}),a.on("click",".nuke",function(){console.log("Enemy NUKE"),currentMonster.health=0,f(),w(),_.delay(m,2e3)}),a.on("click",".self-destruct",function(){console.log("Player NUKED"),currentCharacter.job.health=0,f(),w(),_.delay(m,2e3)}),$(".character-display").on("click",".intuition",function(){console.log("INTUTION oooooh"),w()}),a.on("click",".reset-game",function(){g()})});